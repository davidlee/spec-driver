---
id: DE-020
slug: add-default-filtering-and-pagination-to-backlog-list-command
name: Delta - Add default filtering and pagination to backlog list command
created: '2025-11-08'
updated: '2025-11-08'
status: complete
kind: delta
aliases: []
relations: []
applies_to:
  specs:
    - SPEC-113
    - SPEC-110
    - PROD-010
  requirements:
    - ISSUE-025
---

# DE-020 – Add default filtering and pagination to backlog list command

```yaml supekku:delta.relationships@v1
schema: supekku.delta.relationships
version: 1
delta: DE-020
revision_links:
  introduces: []
  supersedes: []
specs:
  primary: []
  collaborators: []
requirements:
  implements: []
  updates: []
  verifies: []
phases: []
```

## 1. Summary & Context
- **Product Spec(s)**: PROD-010 – CLI UX
- **Technical Spec(s)**: SPEC-113 – supekku/scripts/lib/backlog; SPEC-110 – supekku/cli
- **Implementation Plan**: [IP-020](./IP-020.md) – Draft, ready for execution
- **Change Drivers**: ISSUE-025 – User experience improvement for backlog management

## 2. Motivation
- Current `list backlog` shows all items including resolved/implemented, creating noise
- As backlogs grow, users need to focus on actionable items
- No pagination support makes large backlogs unwieldy
- Target: Focus on open work by default, with easy access to full history when needed

## 3. Scope & Objectives
- **Primary Outcomes**:
  - Default filtering excludes `status: resolved` and `status: implemented`
  - Add `--all/-a` flag to include all statuses
  - Add `--limit N` flag (default 20) for pagination
  - Add `--pager/-P` flag for scrollable output via Rich pager
  - Add `--order` flag with options: id, severity, status, kind
  - Prioritize mode respects same filtering defaults
  - All changes apply to: list backlog, list issues, list problems, list improvements, list risks
- **Operational Constraints**: Must maintain backward compatibility
- **Dependencies**: None

## 4. Out of Scope
- Advanced filtering DSL or query language
- Persistent user preferences for default limit
- Export/import of backlog items

## 5. Approach Overview
- **System Touchpoints**:
  - `supekku/cli/list.py` - list_backlog command
  - `supekku/scripts/lib/formatters/backlog_formatters.py` - table/json/tsv formatters
- **Key Changes**:
  - Add four new CLI flags: --all/-a, --limit, --pager/-P, --order
  - Replace --order-by-id with flexible --order flag (id|severity|status|kind)
  - Apply default status filter excluding resolved/implemented unless --all specified
  - Apply limit slicing before formatting
  - Add pagination feedback: "Showing X of Y items..."
  - Route output through Rich console.pager() when --pager specified
  - Applied to all 5 commands: list backlog, issues, problems, improvements, risks
- **Migration / Rollout Notes**: None needed - pure enhancement

## 6. Verification Strategy
- **Requirements Coverage**: Unit tests + manual UX validation
- **Planned Artefacts**: VT-020-01 (unit tests), VH-020-01 (manual validation)
- **Acceptance Criteria**:
  - Default list excludes resolved/implemented
  - --all includes all items
  - --limit caps results correctly
  - --pager uses typer paging
  - Help text clear and accurate
  - All tests pass (just test)
  - Both linters pass (just lint, just pylint)

## 7. Risks & Mitigations
- **Risk**: Breaking existing automation scripts – *Likelihood*: low – *Impact*: low – *Mitigation*: Backward compatible, scripts just see fewer (still valid) items
- **Risk**: Users confused by "missing" items – *Likelihood*: medium – *Impact*: low – *Mitigation*: Clear help text, informative footer messages

## 8. Follow-ups & Tracking
- **Future Phases / Deltas**: None currently identified
- **Backlog Items**: ISSUE-025 (implemented)
- **Open Decisions / Questions**: None - all decisions confirmed in IP-020
- **Implementation Complete**: 2025-11-08

## 9. Implementation Notes
- See IP-020 for detailed phase breakdown
- Key files identified in IP-020 Section 10
- Use `uv run spec-driver create phase --plan IP-020` to create phase sheets
- Rich pager API: `with console.pager(): console.print(output)` - https://rich.readthedocs.io/en/stable/reference/console.html#rich.console.Console.pager
