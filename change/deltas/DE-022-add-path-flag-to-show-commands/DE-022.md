---
id: DE-022
slug: add-path-flag-to-show-commands
name: Add --path flag to show commands
created: '2026-02-04'
updated: '2026-02-04'
status: completed
kind: delta
aliases: []
relations: []
applies_to:
  specs:
  - PROD-013
  requirements:
  - PROD-013.FR-001
  - PROD-013.FR-006
  - PROD-013.FR-007
---

# DE-022 – Add --path flag to show commands

```yaml supekku:delta.relationships@v1
schema: supekku.delta.relationships
version: 1
delta: DE-022
revision_links:
  introduces: []
  supersedes: []
specs:
  primary:
    - PROD-013
  collaborators: []
requirements:
  implements:
    - PROD-013.FR-001
    - PROD-013.FR-006
    - PROD-013.FR-007
  updates: []
  verifies: []
phases:
  - IP-022-P01
```

## 1. Summary & Context

- **Product Spec**: [PROD-013](../../specify/product/PROD-013/PROD-013.md) – CLI Artifact File Access
- **Implementation Plan**: [IP-022](./IP-022.md)
- **Change Drivers**: Gap identified in CLI audit - no way to get artifact file paths for shell composition

## 2. Motivation

Users cannot easily compose shell commands with artifact paths. Current workflow requires:
1. Manually navigating to `specify/decisions/ADR-001-*.md` or similar
2. Or parsing `--json` output to extract the path field

Target state: `$EDITOR $(spec-driver show adr 001 --path)` just works.

## 3. Scope & Objectives

- **Primary Outcomes**:
  - All `show` subcommands support `--path` flag (FR-001)
  - `show card` gains `--json` flag for consistency (FR-006)
  - `--json` output verified to include `path` field (FR-007) - already true
- **Operational Constraints**: Must not break existing CLI behavior
- **Dependencies**: None

## 4. Out of Scope

- `--raw` flag for file content (future delta)
- `view` and `edit` commands (future delta)
- `find` command extensions (future delta)

## 5. Approach Overview

- **System Touchpoints**: `supekku/cli/show.py`
- **Key Changes**:
  1. Add `--path` option to: `show_spec`, `show_delta`, `show_revision`, `show_requirement`, `show_adr`, `show_policy`, `show_standard`
  2. Add `--json` option to: `show_card` (currently has `-q/--quiet` but no `--json`)
  3. Rename `show_card`'s `-q/--quiet` to `-p/--path` for consistency (keep `-q` as alias)
- **Migration Notes**: `-q` remains as alias for backward compatibility

## 6. Verification Strategy

- **Requirements Coverage**:
  - FR-001: Test `--path` on all show subcommands
  - FR-006: Test `--json` on `show card`
  - FR-007: Verify `path` in JSON output (already passing)
- **Planned Artefacts**: VT-022-001 (unit tests for path output)
- **Acceptance Criteria**:
  - All show commands accept `--path` flag
  - `--path` output is a single line with relative path
  - `show card --json` works

## 7. Risks & Mitigations

- **Risk**: Breaking change if `-q` behavior changes – *Likelihood*: low – *Impact*: medium – *Mitigation*: Keep `-q` as alias for `--path`

## 8. Follow-ups & Tracking

- **Future Deltas**:
  - DE-TBD: Add `--raw` flag (PROD-013.FR-002)
  - DE-TBD: Add `view`/`edit` commands (PROD-013.FR-003, FR-004)
  - DE-TBD: Extend `find` command (PROD-013.FR-005)

## 9. Implementation Notes

Pattern from existing `show_card`:
```python
if path_only:
  typer.echo(artifact.path)  # or registry.get_path(id)
  raise typer.Exit(EXIT_SUCCESS)
```

JSON output already includes `path` field, so `--path` just extracts it.
